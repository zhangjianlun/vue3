{"code":"import { isObject } from '@vue/shared';\r\nimport { reactive, readonly } from './reactive';\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        // proxy + reflect\r\n        const res = Reflect.get(target, key, receiver); // target[key] 代理\r\n        // 判断\r\n        if (!isReadonly) {\r\n            return; //依赖收集\r\n        }\r\n        if (shallow) {\r\n            return res; //浅 仅对第一层代理\r\n        }\r\n        // key 是一个对象 递归  vue3  懒代理state.list\r\n        if (isObject(res)) {\r\n            return isReadonly ? readonly(res) : reactive(res); //递归\r\n        }\r\n        return res;\r\n    };\r\n}\r\nconst get = createGetter();\r\nconst shallowget = createGetter(false, true);\r\nconst readonlyGet = createGetter(true);\r\nconst shallowReadonlyGet = createGetter(true, true);\r\nexport const reactiveHandlers = {\r\n    get,\r\n};\r\nexport const shallowReactiveHandlers = {\r\n    get: shallowget,\r\n};\r\nexport const readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set: (target, key, value) => {\r\n        console.log(`set on key is failed`);\r\n    },\r\n};\r\nexport const shallowReadonlyHandlers = {\r\n    get: shallowReadonlyGet,\r\n    set: (target, key, value) => {\r\n        console.log(`set on key is failed`);\r\n    },\r\n};\r\n// 方法  (1)只读 (2)深的\r\n// 柯里化  同一个方法据不同参数来处理逻辑\r\n//\r\n// 单词\r\n// receiver接收器 reflect反射\r\n//# sourceMappingURL=baseHandlers.js.map","references":["/Users/zhangjianlun/zjl_workspace/vue3/packages/shared/src/index.ts","/Users/zhangjianlun/zjl_workspace/vue3/packages/reactivity/src/reactive.ts"],"map":"{\"version\":3,\"file\":\"baseHandlers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/reactivity/src/baseHandlers.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AACvC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEhD,SAAS,YAAY,CAAC,UAAU,GAAG,KAAK,EAAE,OAAO,GAAG,KAAK;IACrD,OAAO,SAAS,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ;QACrC,kBAAkB;QAClB,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC,iBAAiB;QACjE,KAAK;QACL,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,CAAC,MAAM;SACjB;QACD,IAAI,OAAO,EAAE;YACT,OAAO,GAAG,CAAC,CAAC,WAAW;SAC1B;QACD,oCAAoC;QACpC,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;YACf,OAAO,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;SAC1D;QACD,OAAO,GAAG,CAAC;IACf,CAAC,CAAC;AACN,CAAC;AACD,MAAM,GAAG,GAAG,YAAY,EAAE,CAAC;AAC3B,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC7C,MAAM,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;AACvC,MAAM,kBAAkB,GAAG,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAEpD,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC5B,GAAG;CACN,CAAC;AACF,MAAM,CAAC,MAAM,uBAAuB,GAAG;IACnC,GAAG,EAAE,UAAU;CAClB,CAAC;AACF,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC5B,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE;QACxB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACxC,CAAC;CACJ,CAAC;AACF,MAAM,CAAC,MAAM,uBAAuB,GAAG;IACnC,GAAG,EAAE,kBAAkB;IACvB,GAAG,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE;QACxB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACxC,CAAC;CACJ,CAAC;AACF,kBAAkB;AAClB,uBAAuB;AACvB,EAAE;AAEF,KAAK;AACL,wBAAwB\"}"}
